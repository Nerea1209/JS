<!DOCTYPE html>
<html>

<head>
    <title>Creaci√≥n de una lista de nodos</title>
</head>

<body>
    <ol id="lista">
        <li>Perico</li>
        <li>Juanico</li>
        <ul>
            <li>Jose</li>
            <ul>
                <li>Roman</li>
                <li>Marco</li>
                <li>Rodrigo</li>
            </ul>
            <li>Jose</li>

            <li>Lorenzo</li>
            <ul>
                <li>Dimas</li>
                <li>Gestas</li>
                <li>Malakatos</li>
                <li>Jose</li>
            </ul>
        </ul>
        <li>Sofoclis</li>
    </ol>
    <script>
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState === 4 && this.status === 200) {
                let objJSON = this.responseText;
                console.log(objJSON)
                objJSON = objJSON.parse(objJSON);
                console.log("objJSON")
                objJSON.map(e => changeMan(document.getElementById("lista1", e.NOMBREI, e.NOMBREF)));
            }
            xhttp.open("GET", "data.json", true);
            xhttp.send();

            const changeMan = (nodo, man1, man2) => {
                if (nodo.innerHTML.toUpperCase() === man1.toUpperCase()) nodo.innerHTML = man2;
                Array.from(nodo.children).map(v => changeMan(v, man1, man2));
            }
        }
    </script>
</body>

</html>